{% extends 'base.html' %}

{% block title %}
  Movies
{% endblock title %}

{% block content %}

<style>
  body {
    background-color: #130f40;
    background-image: linear-gradient(315deg, #130f40 0%, #000000 74%);  
  }

  h3 {
    color: #fff;
  }

  h5 {
    color: rgb(214, 214, 214);
    font-weight: lighter;
  }

  /* Horizontal Scroll Bar */
  ::-webkit-scrollbar {
    height: 8px; /* Adjust the thickness as needed */
  }

  /* Track */
  ::-webkit-scrollbar-track {
    background: #2d2d2d; /* Darker color for the track */
  }

  /* Handle */
  ::-webkit-scrollbar-thumb {
    background: #4a90e2; /* Color of the scroll handle */
    border-radius: 4px; /* Rounded corners for aesthetics */
  }

  /* Handle on hover */
  ::-webkit-scrollbar-thumb:hover {
    background: #007bff; /* Change color on hover for user feedback */
  }

  /* Optional: Adding a subtle glow effect */
  ::-webkit-scrollbar-thumb {
    box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);
  }


</style>


<section id="movies" class="p-3">

  <div id="latest-movies" class="mt-4 mb-4">
    <a href="/movie/all"><h3 class="pb-3">All Movies</h3></a>
    
    <div class="d-flex flex-row pt-3 pb-3" style="gap: 20px; overflow-x: auto;">

      {% for movie in movies %}
      <div class="col-3">
        <div class="card text-bg-dark">
          <img src="{{ movie.poster }}" class="card-img standard-image" alt="..." style="aspect-ratio: 16/9; width: 100%;">
          <div class="card-img-overlay">
            <h5 class="card-title">{{movie.title}}</h5>
            <a href="{% url 'movies-individual' movie.id %}" class="btn btn-primary">&#x23F5;            </a>
          </div>
        </div>
      </div>
      {% endfor %}

    </div>
  </div>

  <div id="continue-watching" class="mt-4 mb-4">
    <h3 class="pb-3">Continue Watching</h3>
    
    <div class="d-flex flex-row pt-3 pb-3" style="gap: 20px; overflow-x: auto;">


      {% for movie in continue_watching %}
      <div class="col-3">
        <div class="card text-bg-dark">
          <img src="{{ movie.poster }}" class="card-img standard-image" alt="..." style="aspect-ratio: 16/9; width: 100%;">
          <div class="card-img-overlay">
            <h5 class="card-title">{{movie.title}}</h5>
            <a href="{% url 'movies-individual' movie.id %}" class="btn btn-primary">&#x23F5;            </a>
          </div>
        </div>
      </div>
      {% endfor %}

    </div>

  </div>

  <div id="recommended" class="mt-4 mb-4">
    <h3 class="pb-3">Recommended for you</h3>
    <div class="d-flex flex-row pt-3 pb-3" style="gap: 20px; overflow-x: auto;">
      {% for movie in content_recommended %}
      <div class="col-3">
        <div class="card text-bg-dark">
          <img src="{{ movie.poster }}" class="card-img standard-image" alt="..." style="aspect-ratio: 16/9; width: 100%;">
          <div class="card-img-overlay">
            <h5 class="card-title">{{movie.title}}</h5>
            <a href="{% url 'movies-individual' movie.id %}" class="btn btn-primary">&#x23F5;            </a>
          </div>
        </div>
      </div>
      {% endfor %}

    </div>
  </div>


  {% for dict_item in item_recommended %}
  <div id="custom" class="mt-4 mb-4">
    {% for key, value in dict_item.items %}
    <div class="pt-4">
      <h3>Recommended for you</h3>
      <h5 class="pb-3">Because you have watched <strong>"{{ key }}"</strong></h5>
      <div class="d-flex flex-row pt-3 pb-3" style="gap: 20px; overflow-x: auto;">
        {% for movie in value %}
        <div class="col-3">
          <div class="card text-bg-dark">
            <img src="{{ movie.poster }}" class="card-img standard-image" alt="..." style="aspect-ratio: 16/9; width: 100%;">
            <div class="card-img-overlay">
              <h5 class="card-title">{{movie.title}}</h5>
              <a href="{% url 'movies-individual' movie.id %}" class="btn btn-primary">&#x23F5;            </a>
            </div>
          </div>
        </div>
        {% endfor %}

      </div>
    </div>
    {% endfor %}
  </div>
  {% endfor %}

</section>




{% endblock content %}